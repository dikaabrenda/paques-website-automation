name: Paques-Web-Automation

on:
  workflow_dispatch:
    paths-ignore:
        - '**.md'
  pull_request:
    branches: [ master ]
    types:
      - opened
      - synchronize
      - reopened

jobs:
  sonarqube:
    runs-on: ${{ matrix.os }}

    strategy:
      matrix:
        os: [ ubuntu-latest ]

    steps:
      - name: Checking out
        uses: actions/checkout@master
        with:
          fetch-depth: 0

      - name: SonarQube Scan
        uses: kitabisa/sonarqube-action@v1.2.0
        with:
          host: ${{ secrets.SONARQUBE_HOST }}
          login: "f83772a9013c3f55359dffb6010660275222e774"
          projectBaseDir: "src/"